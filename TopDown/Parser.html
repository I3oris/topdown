<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Crystal Docs 1.14.0">
<meta name="crystal_docs.project_version" content="main">
<meta name="crystal_docs.project_name" content="topdown">



<link href="../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/doc.js"></script>

  <meta name="repository-name" content="topdown">
  <title>TopDown::Parser - topdown main</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill="currentColor" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<input type="checkbox" id="sidebar-btn">
<label for="sidebar-btn" id="sidebar-btn-label">
  <svg class="open" xmlns="http://www.w3.org/2000/svg" height="2em" width="2em" viewBox="0 0 512 512"><title>Open Sidebar</title><path fill="currentColor" d="M80 96v64h352V96H80zm0 112v64h352v-64H80zm0 112v64h352v-64H80z"></path></svg>
  <svg class="close" xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 512 512"><title>Close Sidebar</title><path fill="currentColor" d="m118.6 73.4-45.2 45.2L210.7 256 73.4 393.4l45.2 45.2L256 301.3l137.4 137.3 45.2-45.2L301.3 256l137.3-137.4-45.2-45.2L256 210.7Z"></path></svg>
</label>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../index.html">
          topdown
        </a>
      </h1>

      <span class="project-version">
        main
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="topdown/TopDown" data-name="topdown">
      <a href="../TopDown.html">TopDown</a>
      
        <ul>
  
  <li class=" " data-id="topdown/TopDown/AST" data-name="topdown::ast">
      <a href="../TopDown/AST.html">AST</a>
      
    </li>
  
  <li class=" " data-id="topdown/TopDown/CharReader" data-name="topdown::charreader">
      <a href="../TopDown/CharReader.html">CharReader</a>
      
    </li>
  
  <li class=" " data-id="topdown/TopDown/Location" data-name="topdown::location">
      <a href="../TopDown/Location.html">Location</a>
      
    </li>
  
  <li class="parent open current" data-id="topdown/TopDown/Parser" data-name="topdown::parser">
      <a href="../TopDown/Parser.html">Parser</a>
      
        <ul>
  
  <li class=" " data-id="topdown/TopDown/Parser/Fail" data-name="topdown::parser::fail">
      <a href="../TopDown/Parser/Fail.html">Fail</a>
      
    </li>
  
  <li class=" " data-id="topdown/TopDown/Parser/ParseletLiteral" data-name="topdown::parser::parseletliteral">
      <a href="../TopDown/Parser/ParseletLiteral.html">ParseletLiteral</a>
      
    </li>
  
  <li class=" " data-id="topdown/TopDown/Parser/SyntaxError" data-name="topdown::parser::syntaxerror">
      <a href="../TopDown/Parser/SyntaxError.html">SyntaxError</a>
      
    </li>
  
  <li class=" " data-id="topdown/TopDown/Parser/Token" data-name="topdown::parser::token(valuetype)">
      <a href="../TopDown/Parser/Token.html">Token</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">abstract class</span> TopDown::<wbr>Parser

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../TopDown/Parser.html">TopDown::Parser</a></li><li class="superclass"><a href="../TopDown/CharReader.html">TopDown::CharReader</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p><code><a href="../TopDown/Parser.html">TopDown::Parser</a></code> is the main class to derive for building a parser.</p>
<h3><a id="basis" class="anchor" href="#basis">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Basis</h3>
<p>A minimal parser could be:</p>
<pre><code class="language-crystal"><span class="k">class</span> <span class="t">Parser</span> <span class="o">&lt;</span> <span class="t">TopDown</span><span class="t">::</span><span class="t">Parser</span>
  root <span class="n">:expression</span>

  syntax <span class="n">:expression</span> <span class="k">do</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre>
<p>which will parse anything but EOF.</p>
<p><code><a href="../TopDown/Parser.html#root%28parselet%29-macro">root</a></code> indicate the starting point of parsing, the rest is to do inside <code><a href="../TopDown/Parser.html#syntax%28syntax_name%2C%2Aprefixs%2Cend%21%3Dnil%2C%26block%29-macro">syntax</a></code>.</p>
<p>Syntax are like functions, in which, any code can be added.
Inside it, <code><a href="../TopDown/Parser.html#parse-instance-method">#parse</a></code> &amp; <code><a href="../TopDown/Parser.html#parse%21%28parselet%2Cerror%3Dnil%2Cat%3Dnil%2Cwith_precedence%3Dnil%2Coptions%3Dnil%2C%26block%29-macro">parse!</a></code> can be used to define what to parse.</p>
<pre><code class="language-crystal">syntax <span class="n">:expression</span> <span class="k">do</span>
  a <span class="o">=</span> parse(<span class="s">&#39;a&#39;</span>)
  parse(<span class="o">/</span>( )<span class="o">+</span><span class="o">/</span>)
  foo <span class="o">=</span> parse!(<span class="s">&quot;foo&quot;</span>)

  {a, foo}
<span class="k">end</span></code></pre>
<pre><code class="language-crystal"><span class="s">&quot;a   foo&quot;</span> <span class="c"># ~&gt; {&#39;a&#39;, &quot;foo&quot;}</span>
<span class="s">&quot;a   bar&quot;</span> <span class="c"># ~&gt; Unexpected character &#39;b&#39;, expected &#39;foo&#39;</span>
<span class="s">&quot;ab&quot;</span>      <span class="c"># ~&gt; Unexpected character &#39;b&#39;, expected expression</span></code></pre>
<p><span class="flag purple">NOTE</span> 
In this documentation, <code>&quot;foo&quot; # ~&gt; result</code> is used as a shortcut for
<code>Parser.new(&quot;foo&quot;)<a href="../TopDown/Parser.html#parse-instance-method">.parse</a> # =&gt; result</code></p>
<p>In the above, if <code>parse!(&quot;foo&quot;)</code> fail to parse, it raises an error.
But <code>parse('a')</code> don't raises, instead it use a <code>break</code> (<code>break <a href="../TopDown/Parser/Fail.html#new-class-method">Fail.new</a></code>) to stop the current sequence to be parsed.
This failure is caught by the <code>root :expression</code>, that why it next raises an exception.</p>
<p>This difference is important because is on what is based <code><a href="../TopDown.html">TopDown</a></code>, using <code><a href="../TopDown/Parser.html#parse-instance-method">#parse</a></code> let a change to the surrounding context to handle the failure, whereas
<code><a href="../TopDown/Parser.html#parse%21%28parselet%2Cerror%3Dnil%2Cat%3Dnil%2Cwith_precedence%3Dnil%2Coptions%3Dnil%2C%26block%29-macro">parse!</a></code> permit the raise directly, leading to better errors.</p>
<p>For example, using <code><a href="../TopDown/Parser.html#parse%21%28parselet%2Cerror%3Dnil%2Cat%3Dnil%2Cwith_precedence%3Dnil%2Coptions%3Dnil%2C%26block%29-macro">parse!</a></code> above:</p>
<pre><code class="language-crystal">syntax <span class="n">:expression</span> <span class="k">do</span>
  a <span class="o">=</span> parse!(<span class="s">&#39;a&#39;</span>)
  parse!(<span class="o">/</span>( )<span class="o">+</span><span class="o">/</span>)
  foo <span class="o">=</span> parse!(<span class="s">&quot;foo&quot;</span>)

  {a, foo}
<span class="k">end</span></code></pre>
<pre><code class="language-crystal"><span class="s">&quot;ab&quot;</span> <span class="c"># ~&gt; Unexpected character &#39;b&#39;, expected pattern /( )+/</span></code></pre>
<p>Gives a more precise error.</p>
<h3><a id="repeat-union-maybe" class="anchor" href="#repeat-union-maybe">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Repeat, union, maybe</h3>
<p><code><a href="../TopDown/Parser.html#repeat%28parselet%3Dnil%2C%26%29-macro">repeat</a></code>, <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">union</a></code>, <code><a href="../TopDown/Parser.html#maybe%28parselet%3Dnil%2C%26%29-macro">maybe</a></code> allow interesting things to be parsed. They take both a block, in which parse failure can occur.</p>
<pre><code class="language-crystal">syntax <span class="n">:expression</span> <span class="k">do</span>
  repeat <span class="k">do</span>
    parse(<span class="s">&#39;a&#39;</span>)
    parse!(<span class="s">&#39;b&#39;</span>)
  <span class="k">end</span>
  maybe { parse(<span class="s">&#39;c&#39;</span>) }
  parse!(<span class="s">&#39;d&#39;</span>)

  <span class="k">union</span> <span class="k">do</span>
    parse(<span class="s">&#39;e&#39;</span>)
    parse(<span class="s">&#39;é&#39;</span>)
    parse(<span class="s">&#39;è&#39;</span>)
  <span class="k">end</span>
  <span class="s">&quot;ok&quot;</span>
<span class="k">end</span></code></pre>
<p>This is equivalent to parse <code>/(ab)*c?d[eéè]/</code>, in a bit more verbose. However, doing so allow to insert code between and retrieve
only needed result, storing in array, or to insert some logic.</p>
<p>For example:</p>
<pre><code class="language-crystal">syntax <span class="n">:expression</span> <span class="k">do</span>
  array <span class="o">=</span> <span class="o">[]</span> <span class="k">of</span> {<span class="t">Char</span>, <span class="t">Char</span>}
  repeat <span class="k">do</span>
    array <span class="o">&lt;&lt;</span> {parse(<span class="s">&#39;a&#39;</span>), parse!(<span class="s">&#39;b&#39;</span>)}
  <span class="k">end</span>
  have_c <span class="o">=</span> maybe { parse(<span class="s">&#39;c&#39;</span>) }
  parse!(<span class="s">&#39;d&#39;</span>)

  <span class="k">if</span> have_c
    e <span class="o">=</span> <span class="k">union</span> <span class="k">do</span>
      parse(<span class="s">&#39;e&#39;</span>)
      parse(<span class="s">&#39;é&#39;</span>)
      parse(<span class="s">&#39;è&#39;</span>)
    <span class="k">end</span>
  <span class="k">end</span>
  {array, e}
<span class="k">end</span></code></pre>
<p>Here, we store each <code>ab</code> in an array and accept the union <code>'e'|'é'|'è'</code> only if the optional <code>'c'</code> have been parsed.</p>
<pre><code class="language-crystal"><span class="s">&quot;ababd&quot;</span> <span class="c"># ~&gt; {[{&#39;a&#39;, &#39;b&#39;}, {&#39;a&#39;, &#39;b&#39;}], nil}</span>
<span class="s">&quot;cde&quot;</span>   <span class="c"># ~&gt; {[], &#39;e&#39;}</span>
<span class="s">&quot;dé&quot;</span>    <span class="c"># ~&gt; Unexpected character &#39;é&#39;, expected &#39;EOF&#39;</span>
<span class="s">&quot;abac&quot;</span>  <span class="c"># # Unexpected character &#39;c&#39;, expected &#39;b&#39;</span></code></pre>
<p><span class="flag purple">NOTE</span> 
When using <code><a href="../TopDown/Parser.html#repeat%28parselet%3Dnil%2C%26%29-macro">repeat</a></code>, <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">union</a></code>, and <code><a href="../TopDown/Parser.html#maybe%28parselet%3Dnil%2C%26%29-macro">maybe</a></code>, we always use <code><a href="../TopDown/Parser.html#parse-instance-method">#parse</a></code> at first (without exclamation), because they <code>break</code> on failure,
which is caught by the <code><a href="../TopDown/Parser.html#repeat%28parselet%3Dnil%2C%26%29-macro">repeat</a></code>/<code><a href="../TopDown/Parser.html#maybe%28parselet%3Dnil%2C%26%29-macro">maybe</a></code>/<code><a href="../TopDown/Parser.html#union%28%26members%29-macro">union</a></code>. They know so they should continue parsing without a failure.</p>
<h3><a id="infix" class="anchor" href="#infix">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Infix</h3>
<p><code><a href="../TopDown/Parser.html#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">infix</a></code> can be used inside a union. It permits to parse operators with precedence easily.</p>
<pre><code class="language-crystal">syntax :expression do
  union do
    parse(/\d+/).to_i
    infix 30 &quot;**&quot; { left() ** parse!(:expression) }
    infix 20 &#39;*&#39; { left() * parse!(:expression) }
    infix 20 &#39;/&#39; { left() / parse!(:expression) }
    infix 10 &#39;+&#39; { left() + parse!(:expression) }
    infix 10 &#39;-&#39; { left() - parse!(:expression) }
  end
end</code></pre>
<p>Infix are treated specially by the <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">union</a></code>. They are parsed after any other member of the union, the <code><a href="../TopDown/Parser.html#left-macro">left()</a></code> result is updated each time.
They are parsed in function of their precedence (first argument), higher precedence mean grouped first.</p>
<pre><code class="language-crystal"><span class="s">&quot;3*6+6*4&quot;</span> <span class="c"># ~&gt; 42</span></code></pre>
<h3><a id="precedence" class="anchor" href="#precedence">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Precedence:</h3>
<p><code><a href="../TopDown/Parser.html#current_precedence-macro">current_precedence()</a></code> is initially zero, it changes when entering in <code><a href="../TopDown/Parser.html#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">infix</a></code>. This is this value that guide the recursion for parsing operators.
Its value can be changed at specific places, so parsing order can be entirely controlled.</p>
<p>For example, assuming we want to parse a ternary if <code>_ ? _ : _</code> that have a higher precedence that classical operators (e.g. <code>&quot;1+1?2:3+3&quot;</code> gets parsed as (<code>1</code> + (<code>1?2:3</code>)) + <code>3</code>.</p>
<p>We can do the following:</p>
<pre><code class="language-crystal">syntax(:expression) do
  union do
    parse(/\d+/).to_i
    infix 10, :plus
    infix 90, :ternary_if
  end
end

syntax :plus, &#39;+&#39; do
  left() + parse!(:expression)
end

syntax :ternary_if, &#39;?&#39; do
  cond = left()
  then_arm = parse!(:expression)
  parse!(&#39;:&#39;)
  else_arm = parse!(:expression)

  cond != 0 ? then_arm : else_arm
end</code></pre>
<pre><code class="language-crystal"><span class="s">&quot;1+1?2:3+3&quot;</span> <span class="c"># ~&gt; 6</span></code></pre>
<p>However the following is not what we except:</p>
<pre><code class="language-crystal"><span class="s">&quot;1+1?2+2:3+3&quot;</span> <span class="c"># =&gt; Unexpected character &#39;+&#39;, expected &#39;:&#39;</span></code></pre>
<p>This happens because the <code>+</code> inside the <code>then_arm</code> have lower precedence, it wants so
let its left with higher precedence finish before parsing itself. So the <code>then_arm</code> finish
but we except a <code>:</code> right after, so it fails (got '+', expected ':').</p>
<p>To fix that, we can set the <code><a href="../TopDown/Parser.html#current_precedence-macro">current_precedence()</a></code> for the <code>then arm</code> to 0:</p>
<pre><code class="language-crystal">then_arm <span class="o">=</span> parse!(<span class="n">:expression</span>, with_precedence: <span class="n">0</span>)</code></pre>
<pre><code class="language-crystal"><span class="s">&quot;1+1?2+2:3+3&quot;</span> <span class="c"># ~&gt; 8</span></code></pre>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/ast.cr#L96" target="_blank">
        ast.cr
      </a>
    
    <br/>
  
    
      <a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/hooks.cr#L1" target="_blank">
        hooks.cr
      </a>
    
    <br/>
  
    
      <a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parselets.cr#L1" target="_blank">
        parser/parselets.cr
      </a>
    
    <br/>
  
    
      <a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L200" target="_blank">
        parser/parser.cr
      </a>
    
    <br/>
  
    
      <a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/syntax_error.cr#L1" target="_blank">
        parser/syntax_error.cr
      </a>
    
    <br/>
  
    
      <a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/tokens.cr#L1" target="_blank">
        parser/tokens.cr
      </a>
    
    <br/>
  









  <h2>
    <a id="macro-summary" class="anchor" href="#macro-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Macro Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#ast%28ast_class%2C%2Aargs%2Cat%3Dnil%2C%2A%2Aoptions%29-macro" class="signature"><strong>ast</strong>(ast_class, *args, at = <span class="n">nil</span>, **options)</a>
        
          <div class="summary"><p><span class="flag orange">TODO</span>  docs</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#begin_location-macro" class="signature"><strong>begin_location</strong></a>
        
          <div class="summary"><p>Returns the <code><a href="../TopDown/Location.html">Location</a></code> at the beginning of the <code><a href="../TopDown/Parser.html#syntax%28syntax_name%2C%2Aprefixs%2Cend%21%3Dnil%2C%26block%29-macro">syntax</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#capture%28%26%29-macro" class="signature"><strong>capture</strong>(&)</a>
        
          <div class="summary"><p>Captures all characters parsed inside the <em>block</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#contexts%28%2Acontexts%29-macro" class="signature"><strong>contexts</strong>(*contexts)</a>
        
          <div class="summary"><p><span class="flag orange">TODO</span>  docs</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#current_precedence-macro" class="signature"><strong>current_precedence</strong></a>
        
          <div class="summary"><p>Returns the current precedence.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#end_word-macro" class="signature"><strong>end_word</strong></a>
        
          <div class="summary"><p>Allows to match a word only if a non-alphanumeric follows</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#forward_fail%28result%29-macro" class="signature"><strong>forward_fail</strong>(result)</a>
        
          <div class="summary"><p>Returns the given <em>result</em>, or <code>break</code> the current sequence if <em>result</em> is a <code><a href="../TopDown/Parser/Fail.html">Fail</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro" class="signature"><strong>infix</strong>(precedence, parselet, associativity = <span class="s">&quot;right&quot;</span>, &block)</a>
        
          <div class="summary"><p><span class="flag orange">TODO</span>  docs</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#left-macro" class="signature"><strong>left</strong></a>
        
          <div class="summary"><p>In the context of an <code><a href="../TopDown/Parser.html#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">infix</a></code> member, returns the <code><a href="../TopDown/Parser.html#left-macro">left</a></code> result of the current <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">union</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#maybe%28parselet%3Dnil%2C%26%29-macro" class="signature"><strong>maybe</strong>(parselet = <span class="n">nil</span>, &)</a>
        
          <div class="summary"><p>Parses the sequence inside the block, returns <code>nil</code> if it fails.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#maybe_union%28%26block%29-macro" class="signature"><strong>maybe_union</strong>(&block)</a>
        
          <div class="summary"><p>Equivalent to `maybe { union { ...</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#no_skip%28%26%29-macro" class="signature"><strong>no_skip</strong>(&)</a>
        
          <div class="summary"><p>Prevents the <code><a href="../TopDown/Parser.html#skip%28%26members%29-macro">skip</a></code> rules to be triggered inside the given block.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#parse%28parselet%2Cwith_precedence%3Dnil%2Coptions%3Dnil%2C%26block%29-macro" class="signature"><strong>parse</strong>(parselet, with_precedence = <span class="n">nil</span>, options = <span class="n">nil</span>, &block)</a>
        
          <div class="summary"><p>Parses the given <em>parselet</em> (<code><a href="../TopDown/Parser/ParseletLiteral.html">ParseletLiteral</a></code>), and yield/return the according result.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#parse%21%28parselet%2Cerror%3Dnil%2Cat%3Dnil%2Cwith_precedence%3Dnil%2Coptions%3Dnil%2C%26block%29-macro" class="signature"><strong>parse!</strong>(parselet, error = <span class="n">nil</span>, at = <span class="n">nil</span>, with_precedence = <span class="n">nil</span>, options = <span class="n">nil</span>, &block)</a>
        
          <div class="summary"><p>Similar to <a href="#parse(parselet,with_precedence=nil,&amp;block)-macro"><code>Parser.parse</code></a>, but raises <code><a href="../TopDown/Parser/SyntaxError.html">SyntaxError</a></code> if the parsing fail.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#partial_capture%28%26block%29-macro" class="signature"><strong>partial_capture</strong>(&block)</a>
        
          <div class="summary"><p>Captures chosen characters parsed inside the <em>block</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#peek%28parselet%2Cwith_precedence%3Dnil%2Coptions%3Dnil%2C%26block%29-macro" class="signature"><strong>peek</strong>(parselet, with_precedence = <span class="n">nil</span>, options = <span class="n">nil</span>, &block)</a>
        
          <div class="summary"><p><span class="flag orange">TODO</span>  docs parse parselet if succeed, don't move the cursor and return parselet result else, don't move the cursor and break a failure</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#prefix%28precedence%2Cparselet%2C%26block%29-macro" class="signature"><strong>prefix</strong>(precedence, parselet, &block)</a>
        
          <div class="summary"><p>Equivalent to <code>parse(parselet, with_precedence: precedence)</code></p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#repeat%28parselet%3Dnil%2C%26%29-macro" class="signature"><strong>repeat</strong>(parselet = <span class="n">nil</span>, &)</a>
        
          <div class="summary"><p>Repeatedly parses the sequence inside the block until it fails.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#repeat%28parselet%3Dnil%2C%2A%2Cseparator%2C%26%29-macro" class="signature"><strong>repeat</strong>(parselet = <span class="n">nil</span>, *, separator, &)</a>
        
          <div class="summary"><p>Repeatedly parses the sequence inside the block until it fails, with a <em>separator</em> parselet between each iteration.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#repeat_count%28%2A%2Cseparator%3Dnil%29-macro" class="signature"><strong>repeat_count</strong>(*, separator = <span class="n">nil</span>)</a>
        
          <div class="summary"><p><span class="flag orange">TODO</span>  docs</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#repeat_n%28count%2Cparselet%3Dnil%2C%26block%29-macro" class="signature"><strong>repeat_n</strong>(count, parselet = <span class="n">nil</span>, &block)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#repeat_to_a%28type%2C%2A%2Cseparator%3Dnil%2C%26%29-macro" class="signature"><strong>repeat_to_a</strong>(type, *, separator = <span class="n">nil</span>, &)</a>
        
          <div class="summary"><p><span class="flag orange">TODO</span>  docs</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#repeat_to_h%28type%2C%2A%2Cseparator%3Dnil%2C%26%29-macro" class="signature"><strong>repeat_to_h</strong>(type, *, separator = <span class="n">nil</span>, &)</a>
        
          <div class="summary"><p><span class="flag orange">TODO</span>  docs</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#repeat_to_s%28%2A%2Cseparator%3Dnil%2C%26block%29-macro" class="signature"><strong>repeat_to_s</strong>(*, separator = <span class="n">nil</span>, &block)</a>
        
          <div class="summary"><p><span class="flag orange">TODO</span>  docs</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#repeat_union%28%26block%29-macro" class="signature"><strong>repeat_union</strong>(&block)</a>
        
          <div class="summary"><p>Equivalent to `repeat { union { ...</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#root%28parselet%29-macro" class="signature"><strong>root</strong>(parselet)</a>
        
          <div class="summary"><p>Defines the main syntax to parse.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#sequence%28%26%29-macro" class="signature"><strong>sequence</strong>(&)</a>
        
          <div class="summary"><p>Allows to group a sequence of parsing (inside a union for example).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#skip%28%26members%29-macro" class="signature"><strong>skip</strong>(&members)</a>
        
          <div class="summary"><p>Defines what is ignored during the parsing.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#syntax%28syntax_name%2C%2Aprefixs%2Cend%21%3Dnil%2C%26block%29-macro" class="signature"><strong>syntax</strong>(syntax_name, *prefixs, end! = <span class="n">nil</span>, &block)</a>
        
          <div class="summary"><p>Defines a syntax that can be called with <code>parse(SymbolLiteral)</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#token%28token_name%2Cparselet%3Dnil%2Ccontext%3Dnil%2C%26block%29-macro" class="signature"><strong>token</strong>(token_name, parselet = <span class="n">nil</span>, context = <span class="n">nil</span>, &block)</a>
        
          <div class="summary"><p>Defines a token to parse.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#tokens%28%26block%29-macro" class="signature"><strong>tokens</strong>(&block)</a>
        
          <div class="summary"><p>This macro allows to define how tokens are parsed.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#union%28%26members%29-macro" class="signature"><strong>union</strong>(&members)</a>
        
          <div class="summary"><p>Tries to parse each member of the union, returns the result of the first that succeed.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#union%21%28error%3Dnil%2Cat%3Dnil%2C%26members%29-macro" class="signature"><strong>union!</strong>(error = <span class="n">nil</span>, at = <span class="n">nil</span>, &members)</a>
        
          <div class="summary"><p>Similar to <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">Parser.union</a></code>, but raises <code><a href="../TopDown/Parser/SyntaxError.html">SyntaxError</a></code> if the parsing fail.</p></div>
        
      </li>
    
  </ul>



  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#each_token%28%26%29%3ANil-instance-method" class="signature"><strong>#each_token</strong>(&) : Nil</a>
        
          <div class="summary"><p>Yields successively parsed tokens.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hook_could_not_parse_any_token%28got%3AChar%2Cexpected%3ANil%29-instance-method" class="signature"><strong>#hook_could_not_parse_any_token</strong>(got : Char, expected : Nil)</a>
        
          <div class="summary"><p>Override this method to modify the default error message when any token can be parsed.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hook_expected_any_character_but%28got%3AChar%2Cexpected%3AChar%29-instance-method" class="signature"><strong>#hook_expected_any_character_but</strong>(got : Char, expected : Char)</a>
        
          <div class="summary"><p>Override this method to modify the default error message when <code>parse!(not('a'))</code> fail.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hook_expected_any_character_but_range%28got%3AChar%2Cexpected%3ARange%28Char%2CChar%29%29-instance-method" class="signature"><strong>#hook_expected_any_character_but_range</strong>(got : Char, expected : Range(Char, Char))</a>
        
          <div class="summary"><p>Override this method to modify the default error message when <code>parse!(not('a'..'z'))</code> fail.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hook_expected_any_in_range%28got%3AChar%2Cexpected%3ARange%28Char%2CChar%29%29-instance-method" class="signature"><strong>#hook_expected_any_in_range</strong>(got : Char, expected : Range(Char, Char))</a>
        
          <div class="summary"><p>Override this method to modify the default error message when <code>parse!('a'..'z')</code> fail.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hook_expected_any_token_but%28got%3AToken%7CNil%2Cexpected%3AString%29-instance-method" class="signature"><strong>#hook_expected_any_token_but</strong>(got : Token | Nil, expected : String)</a>
        
          <div class="summary"><p>Override this method to modify the default error message when <code>parse!(not([&quot;TOKEN&quot;]))</code> fail.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hook_expected_character%28got%3AChar%2Cexpected%3AChar%29-instance-method" class="signature"><strong>#hook_expected_character</strong>(got : Char, expected : Char)</a>
        
          <div class="summary"><p>Override this method to modify the default error message when <code>parse!('a')</code> fail.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hook_expected_pattern%28got%3AChar%2Cexpected%3ARegex%29-instance-method" class="signature"><strong>#hook_expected_pattern</strong>(got : Char, expected : Regex)</a>
        
          <div class="summary"><p>Override this method to modify the default error message when <code>parse!(/regex/)</code> fail.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hook_expected_syntax%28got%3AChar%2Cexpected%3ASymbol%29-instance-method" class="signature"><strong>#hook_expected_syntax</strong>(got : Char, expected : Symbol)</a>
        
          <div class="summary"><p>Override this method to modify the default error message when <code>parse!(:syntax)</code> fail.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hook_expected_token%28got%3AToken%7CNil%2Cexpected%3AString%29-instance-method" class="signature"><strong>#hook_expected_token</strong>(got : Token | Nil, expected : String)</a>
        
          <div class="summary"><p>Override this method to modify the default error message when <code>parse!([&quot;TOKEN&quot;])</code> fail.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hook_expected_word%28got%3AChar%2Cexpected%3AString%29-instance-method" class="signature"><strong>#hook_expected_word</strong>(got : Char, expected : String)</a>
        
          <div class="summary"><p>Override this method to modify the default error message when <code>parse!(&quot;string&quot;)</code> fail.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hook_union_failed%28got%3AChar%2Cexpected%3ANil%29-instance-method" class="signature"><strong>#hook_union_failed</strong>(got : Char, expected : Nil)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#location%3ALocation-instance-method" class="signature"><strong>#location</strong> : Location</a>
        
          <div class="summary"><p>Returns the current cursor location.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#location%3D%28location%3ALocation%29-instance-method" class="signature"><strong>#location=</strong>(location : Location)</a>
        
          <div class="summary"><p>Move the cursor to the new <em>location</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#parse-instance-method" class="signature"><strong>#parse</strong></a>
        
          <div class="summary"><p>Parses the source contained in this parser.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#raise_syntax_error%28message%3AString%2Catlocation%3ALocation%3Dself.location%2Csource%3AString%3Dself.source%29-instance-method" class="signature"><strong>#raise_syntax_error</strong>(message : String, at location : Location = <span class="k">self</span>.location, source : String = <span class="k">self</span>.source)</a>
        
          <div class="summary"><p>Raises a <code><a href="../TopDown/Parser/SyntaxError.html">SyntaxError</a></code> at current <code><a href="../TopDown/Parser.html#location%3ALocation-instance-method">#location</a></code> and current <code>source</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#raise_syntax_error%28message%3AString%2Catlocation%3ARange%28Location%2CLocation%29%2Csource%3AString%3Dself.source%29-instance-method" class="signature"><strong>#raise_syntax_error</strong>(message : String, at location : Range(Location, Location), source : String = <span class="k">self</span>.source)</a>
        
          <div class="summary"><p>Raises a <code><a href="../TopDown/Parser/SyntaxError.html">SyntaxError</a></code> at current <code><a href="../TopDown/Parser.html#location%3ALocation-instance-method">#location</a></code> and current <code>source</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#raise_syntax_error%28message%3AString%2Catlocation%3ARange%28Location%2CNil%29%2Csource%3AString%3Dself.source%29-instance-method" class="signature"><strong>#raise_syntax_error</strong>(message : String, at location : Range(Location, Nil), source : String = <span class="k">self</span>.source)</a>
        
          <div class="summary"><p>Raises a <code><a href="../TopDown/Parser/SyntaxError.html">SyntaxError</a></code> at current <code><a href="../TopDown/Parser.html#location%3ALocation-instance-method">#location</a></code> and current <code>source</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#source%3D%28source%3AString%29-instance-method" class="signature"><strong>#source=</strong>(source : String)</a>
        
          <div class="summary"><p>Modifies the <em>source</em> and reset the cursor <code><a href="../TopDown/Parser.html#location%3ALocation-instance-method">#location</a></code> to zero.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#tokens-instance-method" class="signature"><strong>#tokens</strong></a>
        
          <div class="summary"><p>Returns the array of parsed tokens.</p></div>
        
      </li>
    
  </ul>



<div class="methods-inherited">
  
    

  <h3>Instance methods inherited from class <code><a href="../TopDown/CharReader.html">TopDown::CharReader</a></code></h3>
  
  
    <a href="../TopDown/CharReader.html#each_char%28%26%3AChar-%3E%29-instance-method" class="tooltip">
      <span>each_char(& : Char -> )</span>
    each_char</a>, 
    
  
    <a href="../TopDown/CharReader.html#location%3ALocation-instance-method" class="tooltip">
      <span>location : Location</span>
    location</a>, 
    
  
    <a href="../TopDown/CharReader.html#location%3D%28location%3ALocation%29-instance-method" class="tooltip">
      <span>location=(location : Location)</span>
    location=</a>, 
    
  
    <a href="../TopDown/CharReader.html#next_assci_char%3F%3AChar%7CNil-instance-method" class="tooltip">
      <span>next_assci_char? : Char | Nil</span>
    next_assci_char?</a>, 
    
  
    <a href="../TopDown/CharReader.html#next_char%3AChar-instance-method" class="tooltip">
      <span>next_char : Char</span>
    next_char</a>, 
    
  
    <a href="../TopDown/CharReader.html#peek_char-instance-method" class="tooltip">
      <span>peek_char</span>
    peek_char</a>, 
    
  
    <a href="../TopDown/CharReader.html#previous_assci_char%3F%3AChar%7CNil-instance-method" class="tooltip">
      <span>previous_assci_char? : Char | Nil</span>
    previous_assci_char?</a>, 
    
  
    <a href="../TopDown/CharReader.html#source%3AString-instance-method" class="tooltip">
      <span>source : String</span>
    source</a>, 
    
  
    <a href="../TopDown/CharReader.html#source%3D%28source%3AString%29-instance-method" class="tooltip">
      <span>source=(source : String)</span>
    source=</a>
    
  


    

  <h3>Constructor methods inherited from class <code><a href="../TopDown/CharReader.html">TopDown::CharReader</a></code></h3>
  
  
    <a href="../TopDown/CharReader.html#new%28source%3AString%29-class-method" class="tooltip">
      <span>new(source : String)</span>
    new</a>
    
  


    


    


  
    


    


    


    


  
    


    


    


    


  
</div>






  <h2>
    <a id="macro-detail" class="anchor" href="#macro-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Macro Detail
  </h2>
  
    <div class="entry-detail" id="ast(ast_class,*args,at=nil,**options)-macro">
      <div class="signature">
        
        macro <strong>ast</strong>(ast_class, *args, at = <span class="n">nil</span>, **options)

        <a class="method-permalink" href="#ast%28ast_class%2C%2Aargs%2Cat%3Dnil%2C%2A%2Aoptions%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p><span class="flag orange">TODO</span>  docs</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/ast.cr#L98" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="begin_location-macro">
      <div class="signature">
        
        macro <strong>begin_location</strong>

        <a class="method-permalink" href="#begin_location-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the <code><a href="../TopDown/Location.html">Location</a></code> at the beginning of the <code><a href="../TopDown/Parser.html#syntax%28syntax_name%2C%2Aprefixs%2Cend%21%3Dnil%2C%26block%29-macro">syntax</a></code>.</p>
<p>The given location is after skipping characters.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L380" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="capture(&amp;)-macro">
      <div class="signature">
        
        macro <strong>capture</strong>(&)

        <a class="method-permalink" href="#capture%28%26%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Captures all characters parsed inside the <em>block</em>.</p>
<p>Returns a <code>String</code></p>
<p><span class="flag purple">NOTE</span>  <code><a href="../TopDown/Parser.html#skip%28%26members%29-macro">skip</a></code> characters are still captured, use <code><a href="../TopDown/Parser.html#partial_capture%28%26block%29-macro">partial_capture</a></code> instead.</p>
<pre><code class="language-crystal">capture do
  repeat(/ +/) do
    parse(/\w+/)
  end
end</code></pre>
<pre><code class="language-crystal"><span class="s">&quot;a   bc d e&quot;</span>  <span class="c"># ~&gt; &quot;a   bc d e&quot;</span>
<span class="s">&quot;Hello World&quot;</span> <span class="c"># ~&gt; &quot;Hello World&quot;</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L763" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="contexts(*contexts)-macro">
      <div class="signature">
        
        macro <strong>contexts</strong>(*contexts)

        <a class="method-permalink" href="#contexts%28%2Acontexts%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p><span class="flag orange">TODO</span>  docs</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/tokens.cr#L236" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="current_precedence-macro">
      <div class="signature">
        
        macro <strong>current_precedence</strong>

        <a class="method-permalink" href="#current_precedence-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the current precedence.</p>
<p>Initially zero.
Changes inside an <code><a href="../TopDown/Parser.html#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">infix</a></code> or when <code>with_precedence</code> is used.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L373" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="end_word-macro">
      <div class="signature">
        
        macro <strong>end_word</strong>

        <a class="method-permalink" href="#end_word-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Allows to match a word only if a non-alphanumeric follows</p>
<pre><code class="language-crystal">parse(&quot;foo&quot;) { end_word }

Equivalent to: (but faster)
parse(/foo\b/) { nil }</code></pre>
<pre><code class="language-crystal"><span class="s">&quot;foo bar&quot;</span> <span class="c"># ~&gt; &quot;foo&quot;</span>
<span class="s">&quot;foobar&quot;</span>  <span class="c"># ~&gt; Unexpected character &#39;b&#39;, expected &#39;EOF&#39;</span></code></pre>
<p><span class="flag purple">NOTE</span>  end_word returns <code>nil</code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L830" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="forward_fail(result)-macro">
      <div class="signature">
        
        macro <strong>forward_fail</strong>(result)

        <a class="method-permalink" href="#forward_fail%28result%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the given <em>result</em>, or <code>break</code> the current sequence if <em>result</em> is a <code><a href="../TopDown/Parser/Fail.html">Fail</a></code>.</p>
<p>This macro is the recommended ways to handle <code><a href="../TopDown/Parser/Fail.html">Fail</a></code>.</p>
<pre><code class="language-crystal">result <span class="o">=</span> <span class="t">Array</span>.new(<span class="n">3</span>) <span class="k">do</span>
  parse(<span class="s">&quot;a&quot;</span>)
<span class="k">end</span>

<span class="k">typeof</span>(result) <span class="c"># =&gt; Array(String) | TopDown::Parser::Fail</span>

result <span class="o">=</span> forward_fail(result)
<span class="k">typeof</span>(result) <span class="c"># =&gt; Array(String)</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L738" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="infix(precedence,parselet,associativity=&quot;right&quot;,&amp;block)-macro">
      <div class="signature">
        
        macro <strong>infix</strong>(precedence, parselet, associativity = <span class="s">&quot;right&quot;</span>, &block)

        <a class="method-permalink" href="#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p><span class="flag orange">TODO</span>  docs</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L316" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="left-macro">
      <div class="signature">
        
        macro <strong>left</strong>

        <a class="method-permalink" href="#left-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>In the context of an <code><a href="../TopDown/Parser.html#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">infix</a></code> member, returns the <code><a href="../TopDown/Parser.html#left-macro">left</a></code> result of the current <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">union</a></code>.</p>
<p>Returns <code>nil</code> in a context other than inside an <code><a href="../TopDown/Parser.html#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">infix</a></code>.</p>
<p>Each time a <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">union</a></code> member is successfully parsed, <code><a href="../TopDown/Parser.html#left-macro">left</a></code> value is updated.</p>
<p>As a <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">union</a></code> continue parsing <code><a href="../TopDown/Parser.html#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">infix</a></code> until possible,
<code><a href="../TopDown/Parser.html#left-macro">left</a></code> allows to retrieve the subsequent results.</p>
<pre><code class="language-crystal">syntax(<span class="n">:exp</span>) <span class="k">do</span>
  <span class="k">union</span> <span class="k">do</span>
    parse(<span class="s">&#39;a&#39;</span>)
    infix(<span class="n">1</span>, <span class="n">:comma</span>)
  <span class="k">end</span>
<span class="k">end</span></code></pre>
<pre><code class="language-crystal">syntax(<span class="n">:comma</span>) <span class="k">do</span>
  l <span class="o">=</span> left() <span class="c"># left returns either</span>
  r <span class="o">=</span> parse(<span class="n">:exp</span>)
  <span class="s">&quot;</span><span class="i">#{</span>l<span class="i">}</span><span class="s">, </span><span class="i">#{</span>r<span class="i">}</span><span class="s">&quot;</span>
<span class="k">end</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L365" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="maybe(parselet=nil,&amp;)-macro">
      <div class="signature">
        
        macro <strong>maybe</strong>(parselet = <span class="n">nil</span>, &)

        <a class="method-permalink" href="#maybe%28parselet%3Dnil%2C%26%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Parses the sequence inside the block, returns <code>nil</code> if it fails.</p>
<pre><code class="language-crystal">x <span class="o">=</span> parse(<span class="s">&#39;1&#39;</span>).to_i
y <span class="o">=</span>
  maybe <span class="k">do</span>
    parse(<span class="s">&#39;+&#39;</span>)
    parse!(<span class="s">&#39;1&#39;</span>).to_i
  <span class="k">end</span>
parse!(<span class="s">&#39;;&#39;</span>)
x <span class="o">+</span> (y <span class="o">||</span> <span class="n">0</span>)</code></pre>
<pre><code class="language-crystal"><span class="s">&quot;1;&quot;</span>   <span class="c"># ~&gt; 1</span>
<span class="s">&quot;1+1;&quot;</span> <span class="c"># ~&gt; 2</span>
<span class="s">&quot;1+*;&quot;</span> <span class="c"># ~&gt; &quot;Unexpected character &#39;*&#39;, expected &#39;1&#39;&quot;</span>
<span class="s">&quot;1*;&quot;</span>  <span class="c"># ~&gt; &quot;Unexpected character &#39;*&#39;, expected &#39;;&#39;&quot;</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L476" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="maybe_union(&amp;block)-macro">
      <div class="signature">
        
        macro <strong>maybe_union</strong>(&block)

        <a class="method-permalink" href="#maybe_union%28%26block%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Equivalent to <code>maybe { union { ... } }</code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L636" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="no_skip(&amp;)-macro">
      <div class="signature">
        
        macro <strong>no_skip</strong>(&)

        <a class="method-permalink" href="#no_skip%28%26%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Prevents the <code><a href="../TopDown/Parser.html#skip%28%26members%29-macro">skip</a></code> rules to be triggered inside the given block.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L694" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="parse(parselet,with_precedence=nil,options=nil,&amp;block)-macro">
      <div class="signature">
        
        macro <strong>parse</strong>(parselet, with_precedence = <span class="n">nil</span>, options = <span class="n">nil</span>, &block)

        <a class="method-permalink" href="#parse%28parselet%2Cwith_precedence%3Dnil%2Coptions%3Dnil%2C%26block%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Parses the given <em>parselet</em> (<code><a href="../TopDown/Parser/ParseletLiteral.html">ParseletLiteral</a></code>), and yield/return the according result.</p>
<h4><a id="failure" class="anchor" href="#failure">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>failure:</h4>
<p>If the given <em>parselet</em> fails to parse, it <code>break</code> the current sequence with a <code><a href="../TopDown/Parser/Fail.html">Fail</a></code>. Failure is catch by the surrounding context.</p>
<ul>
<li>inside an <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">union</a></code>, tell the union that member have fail. The union tries to parse the next member.</li>
<li>inside a <code><a href="../TopDown/Parser.html#maybe%28parselet%3Dnil%2C%26%29-macro">maybe</a></code>, the maybe will return <code>nil</code>.</li>
<li>inside a <code><a href="../TopDown/Parser.html#repeat%28parselet%3Dnil%2C%26%29-macro">repeat</a></code>, make the repeat to stop.</li>
<li>inside a <code><a href="../TopDown/Parser.html#syntax%28syntax_name%2C%2Aprefixs%2Cend%21%3Dnil%2C%26block%29-macro">syntax</a></code>, the syntax is considered to fail, it will in turn <code>break</code> or raises.</li>
</ul>
<h4><a id="block" class="anchor" href="#block">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>block:</h4>
<p>A <em>block</em> could be given to let return the value of the block.</p>
<h4><a id="precedence" class="anchor" href="#precedence">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>precedence:</h4>
<p><em>with_precedence</em> (<code>NumberLiteral</code>) changes the <code><a href="../TopDown/Parser.html#current_precedence-macro">current_precedence</a></code>, the given <em>parselet</em> will be parsed as if the contained syntax have this precedence.
Allow to handle multi-precedence for ternary-or-more operator.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L286" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="parse!(parselet,error=nil,at=nil,with_precedence=nil,options=nil,&amp;block)-macro">
      <div class="signature">
        
        macro <strong>parse!</strong>(parselet, error = <span class="n">nil</span>, at = <span class="n">nil</span>, with_precedence = <span class="n">nil</span>, options = <span class="n">nil</span>, &block)

        <a class="method-permalink" href="#parse%21%28parselet%2Cerror%3Dnil%2Cat%3Dnil%2Cwith_precedence%3Dnil%2Coptions%3Dnil%2C%26block%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Similar to <a href="#parse(parselet,with_precedence=nil,&amp;block)-macro"><code>Parser.parse</code></a>, but raises <code><a href="../TopDown/Parser/SyntaxError.html">SyntaxError</a></code> if the parsing fail.</p>
<p><em>error</em>: allows to customize error message, it can be:</p>
<ul>
<li>a <code>StringLiteral</code>:
Following percent interpolations are available:
<ul>
<li><code>%{got}</code>: The character or token causing the failure.</li>
<li><code>%{expected}</code>: The expected <code>Char</code>, <code>String</code>, <code>Regex</code>, <code><a href="../TopDown/Parser/Token.html">Token</a></code> or syntax name (<code>Symbol</code>).</li>
</ul>
</li>
<li>a <code>ProcLiteral</code> taking two arguments: 'got' and 'expected', with types explained above.</li>
</ul>
<p><em>at</em>: indicates where the error is raised, it can be a <code><a href="../TopDown/Location.html">Location</a></code>, <code>Range(<a href="../TopDown/Location.html">Location</a>, <a href="../TopDown/Location.html">Location</a>)</code> or <code>Range(<a href="../TopDown/Location.html">Location</a>, Nil)</code>.</p>
<h4><a id="failure" class="anchor" href="#failure">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>failure:</h4>
<p>Because it raises, this shouldn't be used as first <em>parselet</em> inside a <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">union</a></code>, <code><a href="../TopDown/Parser.html#maybe%28parselet%3Dnil%2C%26%29-macro">maybe</a></code>, <code><a href="../TopDown/Parser.html#repeat%28parselet%3Dnil%2C%26%29-macro">repeat</a></code> and <code><a href="../TopDown/Parser.html#syntax%28syntax_name%2C%2Aprefixs%2Cend%21%3Dnil%2C%26block%29-macro">syntax</a></code>.
This would raises before the surrounding context could try an other solution.</p>
<p>However, this should generally be used everywhere else, to allow more localized errors.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L306" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="partial_capture(&amp;block)-macro">
      <div class="signature">
        
        macro <strong>partial_capture</strong>(&block)

        <a class="method-permalink" href="#partial_capture%28%26block%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Captures chosen characters parsed inside the <em>block</em>.</p>
<p>Yields a <code>String::Builder</code> in which characters to capture can be added.</p>
<p>Returns a <code>String</code>.</p>
<pre><code class="language-crystal">partial_capture do |io|
  repeat(/ +/) do
    io &lt;&lt; parse(/\w+/)
  end
end</code></pre>
<pre><code class="language-crystal"><span class="s">&quot;a   bc d e&quot;</span>  <span class="c"># ~&gt; &quot;abcde&quot;</span>
<span class="s">&quot;Hello World&quot;</span> <span class="c"># ~&gt; &quot;HelloWorld&quot;</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L786" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="peek(parselet,with_precedence=nil,options=nil,&amp;block)-macro">
      <div class="signature">
        
        macro <strong>peek</strong>(parselet, with_precedence = <span class="n">nil</span>, options = <span class="n">nil</span>, &block)

        <a class="method-permalink" href="#peek%28parselet%2Cwith_precedence%3Dnil%2Coptions%3Dnil%2C%26block%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p><span class="flag orange">TODO</span>  docs
parse parselet
if succeed, don't move the cursor and return parselet result
else, don't move the cursor and break a failure</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L330" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="prefix(precedence,parselet,&amp;block)-macro">
      <div class="signature">
        
        macro <strong>prefix</strong>(precedence, parselet, &block)

        <a class="method-permalink" href="#prefix%28precedence%2Cparselet%2C%26block%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Equivalent to <code>parse(parselet, with_precedence: precedence)</code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L311" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="repeat(parselet=nil,&amp;)-macro">
      <div class="signature">
        
        macro <strong>repeat</strong>(parselet = <span class="n">nil</span>, &)

        <a class="method-permalink" href="#repeat%28parselet%3Dnil%2C%26%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Repeatedly parses the sequence inside the block until it fails.</p>
<p>Returns <code>nil</code>. Results should be either collected by <code><a href="../TopDown/Parser.html#capture%28%26%29-macro">capture</a></code> or stored inside a variable or array.</p>
<pre><code class="language-crystal">x <span class="o">=</span> parse(<span class="s">&#39;1&#39;</span>).to_i
repeat <span class="k">do</span>
  parse(<span class="s">&#39;+&#39;</span>)
  x <span class="o">+=</span> parse!(<span class="s">&#39;1&#39;</span>).to_i
<span class="k">end</span>
parse!(<span class="s">&#39;;&#39;</span>)
x</code></pre>
<pre><code class="language-crystal"><span class="s">&quot;1;&quot;</span>         <span class="c"># ~&gt; 1</span>
<span class="s">&quot;1+1+1+1+1;&quot;</span> <span class="c"># ~&gt; 5</span>
<span class="s">&quot;1+1+1+*;&quot;</span>   <span class="c"># ~&gt; &quot;Unexpected character &#39;*&#39;, expected &#39;1&#39;&quot;</span>
<span class="s">&quot;1*;&quot;</span>        <span class="c"># ~&gt; &quot;Unexpected character &#39;*&#39;, expected &#39;;&#39;&quot;</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L510" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="repeat(parselet=nil,*,separator,&amp;)-macro">
      <div class="signature">
        
        macro <strong>repeat</strong>(parselet = <span class="n">nil</span>, *, separator, &)

        <a class="method-permalink" href="#repeat%28parselet%3Dnil%2C%2A%2Cseparator%2C%26%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Repeatedly parses the sequence inside the block until it fails, with a <em>separator</em> parselet between each iteration.</p>
<p>Returns <code>nil</code>. Results should be either collected by <code><a href="../TopDown/Parser.html#capture%28%26%29-macro">capture</a></code> or stored inside a variable or array.</p>
<pre><code class="language-crystal">x <span class="o">=</span> <span class="n">0</span>
parse(<span class="s">&#39;(&#39;</span>)
repeat(<span class="s">&#39;,&#39;</span>) <span class="k">do</span>
  x <span class="o">+=</span> parse(<span class="s">&#39;1&#39;</span>).to_i
<span class="k">end</span>
parse!(<span class="s">&#39;)&#39;</span>)
x</code></pre>
<pre><code class="language-crystal"><span class="s">&quot;()&quot;</span>          <span class="c"># ~&gt; 0</span>
<span class="s">&quot;(1,1,1,1,1)&quot;</span> <span class="c"># ~&gt; 5</span>
<span class="s">&quot;(1,1,)&quot;</span>      <span class="c"># ~&gt; &quot;Unexpected character &#39;,&#39;, expected &#39;)&#39;&quot;</span>
<span class="s">&quot;(11)&quot;</span>        <span class="c"># ~&gt; &quot;Unexpected character &#39;1&#39;, expected &#39;)&#39;&quot;</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L573" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="repeat_count(*,separator=nil)-macro">
      <div class="signature">
        
        macro <strong>repeat_count</strong>(*, separator = <span class="n">nil</span>)

        <a class="method-permalink" href="#repeat_count%28%2A%2Cseparator%3Dnil%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p><span class="flag orange">TODO</span>  docs</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L617" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="repeat_n(count,parselet=nil,&amp;block)-macro">
      <div class="signature">
        
        macro <strong>repeat_n</strong>(count, parselet = <span class="n">nil</span>, &block)

        <a class="method-permalink" href="#repeat_n%28count%2Cparselet%3Dnil%2C%26block%29-macro">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L524" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="repeat_to_a(type,*,separator=nil,&amp;)-macro">
      <div class="signature">
        
        macro <strong>repeat_to_a</strong>(type, *, separator = <span class="n">nil</span>, &)

        <a class="method-permalink" href="#repeat_to_a%28type%2C%2A%2Cseparator%3Dnil%2C%26%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p><span class="flag orange">TODO</span>  docs</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L600" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="repeat_to_h(type,*,separator=nil,&amp;)-macro">
      <div class="signature">
        
        macro <strong>repeat_to_h</strong>(type, *, separator = <span class="n">nil</span>, &)

        <a class="method-permalink" href="#repeat_to_h%28type%2C%2A%2Cseparator%3Dnil%2C%26%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p><span class="flag orange">TODO</span>  docs</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L590" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="repeat_to_s(*,separator=nil,&amp;block)-macro">
      <div class="signature">
        
        macro <strong>repeat_to_s</strong>(*, separator = <span class="n">nil</span>, &block)

        <a class="method-permalink" href="#repeat_to_s%28%2A%2Cseparator%3Dnil%2C%26block%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p><span class="flag orange">TODO</span>  docs</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L609" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="repeat_union(&amp;block)-macro">
      <div class="signature">
        
        macro <strong>repeat_union</strong>(&block)

        <a class="method-permalink" href="#repeat_union%28%26block%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Equivalent to <code>repeat { union { ... } }</code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L627" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="root(parselet)-macro">
      <div class="signature">
        
        macro <strong>root</strong>(parselet)

        <a class="method-permalink" href="#root%28parselet%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Defines the main syntax to parse.</p>
<p><em>parselet</em> (<code><a href="../TopDown/Parser/ParseletLiteral.html">ParseletLiteral</a></code>): the syntax name or parselet to be the root.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L225" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="sequence(&amp;)-macro">
      <div class="signature">
        
        macro <strong>sequence</strong>(&)

        <a class="method-permalink" href="#sequence%28%26%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Allows to group a sequence of parsing (inside a union for example).</p>
<pre><code class="language-crystal"><span class="k">union</span> <span class="k">do</span>
  sequence <span class="k">do</span>
    parse(<span class="s">&quot;a&quot;</span>)
    parse!(<span class="s">&quot;b&quot;</span>)
  <span class="k">end</span>
  parse(<span class="s">&quot;2&quot;</span>)</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L803" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="skip(&amp;members)-macro">
      <div class="signature">
        
        macro <strong>skip</strong>(&members)

        <a class="method-permalink" href="#skip%28%26members%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Defines what is ignored during the parsing.</p>
<p>It is triggered every time prior a parselet is parsed.</p>
<p>It works similarly to the members of a <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">Parser.union</a></code>, in which each members are consumed while possible.</p>
<pre><code class="language-crystal"><span class="k">class</span> <span class="t">Parser</span> <span class="o">&lt;</span> <span class="t">TopDown</span><span class="t">::</span><span class="t">Parser</span>
  skip <span class="k">do</span>
    <span class="c"># Skips spaces:</span>
    parse <span class="s">&#39; &#39;</span>
    parse <span class="s">&#39;\n&#39;</span>
    parse <span class="s">&#39;\t&#39;</span>
    parse <span class="s">&#39;\r&#39;</span>

    <span class="c"># Line comments:</span>
    parse <span class="s">&quot;//&quot;</span> { repeat { parse not(<span class="s">&#39;\n&#39;</span>) } }

    <span class="c"># Block comments:</span>
    parse <span class="s">&quot;/*&quot;</span> <span class="k">do</span>
      repeat { parse not(<span class="s">&quot;*/&quot;</span>) }
      parse <span class="s">&quot;*/&quot;</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L677" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="syntax(syntax_name,*prefixs,end!=nil,&amp;block)-macro">
      <div class="signature">
        
        macro <strong>syntax</strong>(syntax_name, *prefixs, end! = <span class="n">nil</span>, &block)

        <a class="method-permalink" href="#syntax%28syntax_name%2C%2Aprefixs%2Cend%21%3Dnil%2C%26block%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Defines a syntax that can be called with <code>parse(SymbolLiteral)</code>.</p>
<p><em>syntax_name</em> (<code>SymbolLiteral</code>): The identifier of the syntax.</p>
<p><em>*prefix</em> (<code><a href="../TopDown/Parser/ParseletLiteral.html">ParseletLiteral</a></code>): A list of parselet, to parse at the beginning of the syntax, results are yielded in the given block.</p>
<p><em>block</em>: The body of the syntax, work like a usual body function.</p>
<pre><code class="language-crystal"><span class="k">class</span> <span class="t">Parser</span> <span class="o">&lt;</span> <span class="t">TopDown</span><span class="t">::</span><span class="t">Parser</span>
  syntax <span class="n">:expression</span> <span class="k">do</span>
    a <span class="o">=</span> parse(<span class="s">&#39;a&#39;</span>)
    parse(<span class="o">/</span>( )<span class="o">+</span><span class="o">/</span>)
    foo <span class="o">=</span> parse!(<span class="s">&quot;foo&quot;</span>)

    {a, foo}
  <span class="k">end</span>
<span class="k">end</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L250" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="token(token_name,parselet=nil,context=nil,&amp;block)-macro">
      <div class="signature">
        
        macro <strong>token</strong>(token_name, parselet = <span class="n">nil</span>, context = <span class="n">nil</span>, &block)

        <a class="method-permalink" href="#token%28token_name%2Cparselet%3Dnil%2Ccontext%3Dnil%2C%26block%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Defines a token to parse. Can be used only inside <a href="#tokens(&amp;block)-macro"><code>Parser.tokens</code></a>.</p>
<p>Each token have a <em>token_name</em> (<code>StringLiteral</code>), and is parsed according to <em>parselet</em>.
The <em>block</em> indicate the value of the resulting <code><a href="../TopDown/Parser/Token.html">Token</a></code>.</p>
<ul>
<li>If no <em>parselet</em> provided, it deduced from <em>token_name</em>.</li>
<li>If no <em>block</em> provided, token <em>value</em> is nil. (use <code>&amp;.itself</code> to actually keep the parsed string)</li>
</ul>
<p>Example:</p>
<pre><code class="language-crystal"><span class="k">class</span> <span class="t">Parser</span> <span class="o">&lt;</span> <span class="t">TopDown</span><span class="t">::</span><span class="t">Parser</span>
  tokens <span class="k">do</span>
    token(<span class="s">&quot;+&quot;</span>)                            <span class="c"># Parses &#39;+&#39;, produces Token[+]</span>
    token(<span class="s">&quot;hey&quot;</span>)                          <span class="c"># Parses &quot;hey&quot;, produces Token[hey]</span>
    token(<span class="s">&quot;new_line&quot;</span>, <span class="s">&#39;\n&#39;</span>)               <span class="c"># Parses &#39;\n&#39;, produces Token[new_line]</span>
    token(<span class="s">&quot;int&quot;</span>, <span class="s">/\d+/</span>) { <span class="o">|</span>v<span class="o">|</span> v.to_i }    <span class="c"># Parses /\d+/, produces Token[int:&lt;int_value&gt;]</span>
    token(<span class="s">&quot;string&quot;</span>, <span class="n">:tk_string</span>, <span class="o">&amp;</span>.itself) <span class="c"># Parses syntax :tk_string, produces Token[string:&lt;string_value&gt;]</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/tokens.cr#L153" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="tokens(&amp;block)-macro">
      <div class="signature">
        
        macro <strong>tokens</strong>(&block)

        <a class="method-permalink" href="#tokens%28%26block%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>This macro allows to define how tokens are parsed.</p>
<p>Each line of the <em>block</em> correspond a token.</p>
<pre><code class="language-crystal"><span class="k">class</span> <span class="t">Parser</span> <span class="o">&lt;</span> <span class="t">TopDown</span><span class="t">::</span><span class="t">Parser</span>
  tokens <span class="k">do</span>
    token(<span class="s">&quot;+&quot;</span>)
    token(<span class="s">&quot;-&quot;</span>)
    token(<span class="s">&quot;**&quot;</span>)
    token(<span class="s">&quot;*&quot;</span>)
    token(<span class="s">&quot;/&quot;</span>)
    token(<span class="s">&quot;new_line&quot;</span>, <span class="s">&#39;\n&#39;</span>)
  <span class="k">end</span>
<span class="k">end</span></code></pre>
<p>Use <code><a href="../TopDown/Parser.html#token%28token_name%2Cparselet%3Dnil%2Ccontext%3Dnil%2C%26block%29-macro">Parser.token</a></code> to define how a token is parsed</p>
<p>The order of token matter, because there are parsed in this order.
Hence, if <code>*</code> is moved before <code>**</code>, the result will be two token <code>*</code> parsed instead of one <code>**</code>.</p>
<p>In addition, characters are never skipped while parsing tokens (and all inner syntax calls), see <code><a href="../TopDown/Parser.html#no_skip%28%26%29-macro">no_skip</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/tokens.cr#L90" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="union(&amp;members)-macro">
      <div class="signature">
        
        macro <strong>union</strong>(&members)

        <a class="method-permalink" href="#union%28%26members%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Tries to parse each member of the union, returns the result of the first that succeed.</p>
<pre><code class="language-crystal"><span class="k">union</span> <span class="k">do</span>
  parse(<span class="s">&#39;1&#39;</span>)
  parse(<span class="s">&#39;2&#39;</span>)
  sequence <span class="k">do</span>
    parse(<span class="s">&#39;a&#39;</span>)
    parse(<span class="s">&#39;b&#39;</span>)
    parse!(<span class="s">&#39;c&#39;</span>)
  <span class="k">end</span>
  parse(<span class="s">&#39;a&#39;</span>)
<span class="k">end</span></code></pre>
<pre><code class="language-crystal"><span class="s">&quot;1&quot;</span>   <span class="c"># ~&gt; &#39;1&#39;</span>
<span class="s">&quot;abc&quot;</span> <span class="c"># ~&gt; &#39;c&#39;</span>
<span class="s">&quot;ab*&quot;</span> <span class="c"># ~&gt; &quot;Unexpected character &#39;*&#39;, expected &#39;c&#39;&quot;</span>
<span class="s">&quot;a&quot;</span>   <span class="c"># ~&gt; &#39;a&#39;</span>
<span class="s">&quot;*&quot;</span>   <span class="c"># ~&gt; &quot;Could not parse syntax &#39;:main&#39;</span></code></pre>
<h4><a id="members" class="anchor" href="#members">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>members:</h4>
<p>Members are delimited by each expression in the <code>Expressions</code> of the given block.</p>
<p><span class="flag purple">NOTE</span>  a block <code>begin</code>/<code>end</code> doesn't group a member since it is inlined by the crystal parser. Use <code><a href="../TopDown/Parser.html#sequence%28%26%29-macro">sequence</a></code> instead.</p>
<h4><a id="failure" class="anchor" href="#failure">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>failure:</h4>
<p>If all members of the union fail, the union is considered to fail, and will <code>break</code> the current sequence</p>
<h4><a id="infix" class="anchor" href="#infix">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>infix:</h4>
<p><code><a href="../TopDown/Parser.html#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">infix</a></code> members could be added to a union.</p>
<p><code><a href="../TopDown/Parser.html#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">infix</a></code> members are always treated after each normal members, in the order there are defined.
A union act as follow:</p>
<ol>
<li>Tries to parse each normal member.</li>
<li>When one succeed, store the result. <code><a href="../TopDown/Parser.html#left-macro">left</a></code> allows to retrieve this result.</li>
<li>Tries to parse <code><a href="../TopDown/Parser.html#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">infix</a></code> members whose precedence is greater than current precedence (initial is zero).</li>
<li>Inner of <code><a href="../TopDown/Parser.html#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">infix</a></code> is executed, it potentially triggers parsing of this union recursively, but current precedence is sets to the <code><a href="../TopDown/Parser.html#infix%28precedence%2Cparselet%2Cassociativity%3D%22right%22%2C%26block%29-macro">infix</a></code> precedence.</li>
<li>When one fully succeed, store the result. <code><a href="../TopDown/Parser.html#left-macro">left</a></code> is updated.</li>
<li>Repeats step 3-5) until there no more infix.</li>
<li>Returns last result.</li>
</ol>
<p>This is mainly the top-down operator precedence algorithm, also known as precedence climbing.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L449" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="union!(error=nil,at=nil,&amp;members)-macro">
      <div class="signature">
        
        macro <strong>union!</strong>(error = <span class="n">nil</span>, at = <span class="n">nil</span>, &members)

        <a class="method-permalink" href="#union%21%28error%3Dnil%2Cat%3Dnil%2C%26members%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Similar to <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">Parser.union</a></code>, but raises <code><a href="../TopDown/Parser/SyntaxError.html">SyntaxError</a></code> if the parsing fail.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L454" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="each_token(&amp;):Nil-instance-method">
      <div class="signature">
        
        def <strong>each_token</strong>(&) : Nil

        <a class="method-permalink" href="#each_token%28%26%29%3ANil-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Yields successively parsed tokens.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/tokens.cr#L204" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hook_could_not_parse_any_token(got:Char,expected:Nil)-instance-method">
      <div class="signature">
        
        def <strong>hook_could_not_parse_any_token</strong>(got : Char, expected : Nil)

        <a class="method-permalink" href="#hook_could_not_parse_any_token%28got%3AChar%2Cexpected%3ANil%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Override this method to modify the default error message when any token can be parsed.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/hooks.cr#L18" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hook_expected_any_character_but(got:Char,expected:Char)-instance-method">
      <div class="signature">
        
        def <strong>hook_expected_any_character_but</strong>(got : Char, expected : Char)

        <a class="method-permalink" href="#hook_expected_any_character_but%28got%3AChar%2Cexpected%3AChar%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Override this method to modify the default error message when <code>parse!(not('a'))</code> fail.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/hooks.cr#L42" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hook_expected_any_character_but_range(got:Char,expected:Range(Char,Char))-instance-method">
      <div class="signature">
        
        def <strong>hook_expected_any_character_but_range</strong>(got : Char, expected : Range(Char, Char))

        <a class="method-permalink" href="#hook_expected_any_character_but_range%28got%3AChar%2Cexpected%3ARange%28Char%2CChar%29%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Override this method to modify the default error message when <code>parse!(not('a'..'z'))</code> fail.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/hooks.cr#L47" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hook_expected_any_in_range(got:Char,expected:Range(Char,Char))-instance-method">
      <div class="signature">
        
        def <strong>hook_expected_any_in_range</strong>(got : Char, expected : Range(Char, Char))

        <a class="method-permalink" href="#hook_expected_any_in_range%28got%3AChar%2Cexpected%3ARange%28Char%2CChar%29%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Override this method to modify the default error message when <code>parse!('a'..'z')</code> fail.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/hooks.cr#L8" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hook_expected_any_token_but(got:Token|Nil,expected:String)-instance-method">
      <div class="signature">
        
        def <strong>hook_expected_any_token_but</strong>(got : <a href="../TopDown/Parser/Token.html">Token</a> | Nil, expected : String)

        <a class="method-permalink" href="#hook_expected_any_token_but%28got%3AToken%7CNil%2Cexpected%3AString%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Override this method to modify the default error message when <code>parse!(not([&quot;TOKEN&quot;]))</code> fail.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/hooks.cr#L52" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hook_expected_character(got:Char,expected:Char)-instance-method">
      <div class="signature">
        
        def <strong>hook_expected_character</strong>(got : Char, expected : Char)

        <a class="method-permalink" href="#hook_expected_character%28got%3AChar%2Cexpected%3AChar%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Override this method to modify the default error message when <code>parse!('a')</code> fail.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/hooks.cr#L3" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hook_expected_pattern(got:Char,expected:Regex)-instance-method">
      <div class="signature">
        
        def <strong>hook_expected_pattern</strong>(got : Char, expected : Regex)

        <a class="method-permalink" href="#hook_expected_pattern%28got%3AChar%2Cexpected%3ARegex%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Override this method to modify the default error message when <code>parse!(/regex/)</code> fail.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/hooks.cr#L28" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hook_expected_syntax(got:Char,expected:Symbol)-instance-method">
      <div class="signature">
        
        def <strong>hook_expected_syntax</strong>(got : Char, expected : Symbol)

        <a class="method-permalink" href="#hook_expected_syntax%28got%3AChar%2Cexpected%3ASymbol%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Override this method to modify the default error message when <code>parse!(:syntax)</code> fail.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/hooks.cr#L33" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hook_expected_token(got:Token|Nil,expected:String)-instance-method">
      <div class="signature">
        
        def <strong>hook_expected_token</strong>(got : <a href="../TopDown/Parser/Token.html">Token</a> | Nil, expected : String)

        <a class="method-permalink" href="#hook_expected_token%28got%3AToken%7CNil%2Cexpected%3AString%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Override this method to modify the default error message when <code>parse!([&quot;TOKEN&quot;])</code> fail.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/hooks.cr#L13" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hook_expected_word(got:Char,expected:String)-instance-method">
      <div class="signature">
        
        def <strong>hook_expected_word</strong>(got : Char, expected : String)

        <a class="method-permalink" href="#hook_expected_word%28got%3AChar%2Cexpected%3AString%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Override this method to modify the default error message when <code>parse!(&quot;string&quot;)</code> fail.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/hooks.cr#L23" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hook_union_failed(got:Char,expected:Nil)-instance-method">
      <div class="signature">
        
        def <strong>hook_union_failed</strong>(got : Char, expected : Nil)

        <a class="method-permalink" href="#hook_union_failed%28got%3AChar%2Cexpected%3ANil%29-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/hooks.cr#L37" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="location:Location-instance-method">
      <div class="signature">
        
        def <strong>location</strong> : <a href="../TopDown/Location.html">Location</a>

        <a class="method-permalink" href="#location%3ALocation-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the current cursor location.</p>
<p>The location can be used later to raise an error at that point.</p>
<pre><code class="language-crystal">loc <span class="o">=</span> <span class="k">self</span>.location
parse(<span class="s">&#39;(&#39;</span>)
exp <span class="o">=</span> parse!(<span class="n">:expression</span>)
parse!(<span class="s">&#39;)&#39;</span>, error: <span class="s">&quot;Unterminated parenthesis expression&quot;</span>, at: loc)
exp</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/tokens.cr#L31" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="location=(location:Location)-instance-method">
      <div class="signature">
        
        def <strong>location=</strong>(location : <a href="../TopDown/Location.html">Location</a>)

        <a class="method-permalink" href="#location%3D%28location%3ALocation%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Move the cursor to the new <em>location</em>.</p>
<p>The <em>location</em> should be well formed, otherwise error display won't be right.
It is recommended to always use a location got by <code>self<a href="../TopDown/Parser.html#location%3ALocation-instance-method">.location</a></code>.</p>
<p>This methods is used to backtrack the parser.
However, prefer using <code><a href="../TopDown/Parser.html#union%28%26members%29-macro">Parser.union</a></code>, <code><a href="../TopDown/Parser.html#maybe%28parselet%3Dnil%2C%26%29-macro">Parser.maybe</a></code>, and <code><a href="../TopDown/Parser.html#repeat%28parselet%3Dnil%2C%26%29-macro">Parser.repeat</a></code> over manual backtracks.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/tokens.cr#L36" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="parse-instance-method">
      <div class="signature">
        
        def <strong>parse</strong>

        <a class="method-permalink" href="#parse-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Parses the source contained in this parser.</p>
<p>Returns the result of the root syntax.
Expects <code>eof</code> after parsing root syntax.
Raises <code><a href="../TopDown/Parser/SyntaxError.html">SyntaxError</a></code> if fail to parse.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/parser.cr#L206" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="raise_syntax_error(message:String,atlocation:Location=self.location,source:String=self.source)-instance-method">
      <div class="signature">
        
        def <strong>raise_syntax_error</strong>(message : String, at location : <a href="../TopDown/Location.html">Location</a> = <span class="k">self</span>.location, source : String = <span class="k">self</span>.source)

        <a class="method-permalink" href="#raise_syntax_error%28message%3AString%2Catlocation%3ALocation%3Dself.location%2Csource%3AString%3Dself.source%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Raises a <code><a href="../TopDown/Parser/SyntaxError.html">SyntaxError</a></code> at current <code><a href="../TopDown/Parser.html#location%3ALocation-instance-method">#location</a></code> and current <code>source</code>.</p>
<p><em>location</em> could be a range between two <code><a href="../TopDown/Location.html">Location</a></code>. A endless range mean a location up to <code>self<a href="../TopDown/Parser.html#location%3ALocation-instance-method">.location</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/syntax_error.cr#L45" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="raise_syntax_error(message:String,atlocation:Range(Location,Location),source:String=self.source)-instance-method">
      <div class="signature">
        
        def <strong>raise_syntax_error</strong>(message : String, at location : Range(<a href="../TopDown/Location.html">Location</a>, <a href="../TopDown/Location.html">Location</a>), source : String = <span class="k">self</span>.source)

        <a class="method-permalink" href="#raise_syntax_error%28message%3AString%2Catlocation%3ARange%28Location%2CLocation%29%2Csource%3AString%3Dself.source%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Raises a <code><a href="../TopDown/Parser/SyntaxError.html">SyntaxError</a></code> at current <code><a href="../TopDown/Parser.html#location%3ALocation-instance-method">#location</a></code> and current <code>source</code>.</p>
<p><em>location</em> could be a range between two <code><a href="../TopDown/Location.html">Location</a></code>. A endless range mean a location up to <code>self<a href="../TopDown/Parser.html#location%3ALocation-instance-method">.location</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/syntax_error.cr#L50" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="raise_syntax_error(message:String,atlocation:Range(Location,Nil),source:String=self.source)-instance-method">
      <div class="signature">
        
        def <strong>raise_syntax_error</strong>(message : String, at location : Range(<a href="../TopDown/Location.html">Location</a>, Nil), source : String = <span class="k">self</span>.source)

        <a class="method-permalink" href="#raise_syntax_error%28message%3AString%2Catlocation%3ARange%28Location%2CNil%29%2Csource%3AString%3Dself.source%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Raises a <code><a href="../TopDown/Parser/SyntaxError.html">SyntaxError</a></code> at current <code><a href="../TopDown/Parser.html#location%3ALocation-instance-method">#location</a></code> and current <code>source</code>.</p>
<p><em>location</em> could be a range between two <code><a href="../TopDown/Location.html">Location</a></code>. A endless range mean a location up to <code>self<a href="../TopDown/Parser.html#location%3ALocation-instance-method">.location</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/syntax_error.cr#L55" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="source=(source:String)-instance-method">
      <div class="signature">
        
        def <strong>source=</strong>(source : String)

        <a class="method-permalink" href="#source%3D%28source%3AString%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Modifies the <em>source</em> and reset the cursor <code><a href="../TopDown/Parser.html#location%3ALocation-instance-method">#location</a></code> to zero.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/tokens.cr#L24" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="tokens-instance-method">
      <div class="signature">
        
        def <strong>tokens</strong>

        <a class="method-permalink" href="#tokens-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the array of parsed tokens.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/I3oris/topdown/blob/4d23f0eb399c60982188300cf0941db50f1a19d5/src/parser/tokens.cr#L213" target="_blank">View source</a>]
        
      </div>
    </div>
  


</div>

</body>
</html>
